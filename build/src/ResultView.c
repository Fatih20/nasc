/* ResultView.c generated by valac 0.32.1, the Vala compiler
 * generated from ResultView.vala, do not modify */

/*
 * Copyright (c) 2015 Peter Arnold
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation; either
 * version 2 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public
 * License along with this program; if not, write to the
 * Free Software Foundation, Inc., 59 Temple Place - Suite 330,
 * Boston, MA 02111-1307, USA.
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>
#include <gee.h>
#include <float.h>
#include <math.h>
#include <pango/pango.h>
#include <string.h>
#include <cairo.h>
#include <stdlib.h>


#define TYPE_RESULT_VIEW (result_view_get_type ())
#define RESULT_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_RESULT_VIEW, ResultView))
#define RESULT_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_RESULT_VIEW, ResultViewClass))
#define IS_RESULT_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_RESULT_VIEW))
#define IS_RESULT_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_RESULT_VIEW))
#define RESULT_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_RESULT_VIEW, ResultViewClass))

typedef struct _ResultView ResultView;
typedef struct _ResultViewClass ResultViewClass;
typedef struct _ResultViewPrivate ResultViewPrivate;

#define TYPE_RESULT_LINE (result_line_get_type ())
#define RESULT_LINE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_RESULT_LINE, ResultLine))
#define RESULT_LINE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_RESULT_LINE, ResultLineClass))
#define IS_RESULT_LINE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_RESULT_LINE))
#define IS_RESULT_LINE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_RESULT_LINE))
#define RESULT_LINE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_RESULT_LINE, ResultLineClass))

typedef struct _ResultLine ResultLine;
typedef struct _ResultLineClass ResultLineClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_slist_free0(var) ((var == NULL) ? NULL : (var = (g_slist_free (var), NULL)))
#define __vala_PangoFontDescription_free0(var) ((var == NULL) ? NULL : (var = (_vala_PangoFontDescription_free (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

struct _ResultView {
	GtkBox parent_instance;
	ResultViewPrivate * priv;
};

struct _ResultViewClass {
	GtkBoxClass parent_class;
};

struct _ResultViewPrivate {
	GtkTextView* text_view;
	GdkCursor* left_ptr;
	GdkCursor* hand;
	gboolean hovering_over_result;
	GeeArrayList* _result_list;
	gint actual_width;
	gboolean update_needed;
	GtkTextTag* bold_tag;
	GtkSpinner* spinner;
	GtkBin* spinner_box;
	gint actual_line;
};


static gpointer result_view_parent_class = NULL;

GType result_view_get_type (void) G_GNUC_CONST;
GType result_line_get_type (void) G_GNUC_CONST;
#define RESULT_VIEW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_RESULT_VIEW, ResultViewPrivate))
enum  {
	RESULT_VIEW_DUMMY_PROPERTY,
	RESULT_VIEW_RESULT_LIST
};
#define RESULT_VIEW_START_WIDTH 210
ResultView* result_view_new (void);
ResultView* result_view_construct (GType object_type);
static void result_view_set_result_list (ResultView* self, GeeArrayList* value);
#define NASC_left_margin 12
#define NASC_vertical_padding 8
static PangoFontDescription* _vala_PangoFontDescription_copy (PangoFontDescription* self);
static gboolean __lambda22_ (ResultView* self, GdkEventButton* evt);
GeeArrayList* result_view_get_result_list (ResultView* self);
static gboolean ___lambda22__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static gboolean __lambda23_ (ResultView* self, GdkEventMotion* evt);
static gboolean ___lambda23__gtk_widget_motion_notify_event (GtkWidget* _sender, GdkEventMotion* event, gpointer self);
#define NASC_top_padding 10
static void _vala_PangoFontDescription_free (PangoFontDescription* self);
void result_view_set_width (ResultView* self, gint width);
void result_line_refresh_width (ResultLine* self, gint width);
void result_view_update (ResultView* self, gint line, gboolean force);
static gboolean result_view_real_draw (GtkWidget* base, cairo_t* cr);
void result_view_show_spinner (ResultView* self, gint line);
void result_view_hide_spinner (ResultView* self);
void result_view_set_line (ResultView* self, gint index, const gchar* _result_);
gboolean result_line_set_value_with_notification (ResultLine* self, const gchar* value);
void result_view_add_line (ResultView* self, gint line, gint count);
#define NASC_SETTINGS_variable_names "nasc_line_"
ResultLine* result_line_new (gint line, const gchar* name, const gchar* value, gint width);
ResultLine* result_line_construct (GType object_type, gint line, const gchar* name, const gchar* value, gint width);
void result_line_set_line (ResultLine* self, gint value);
void result_line_set_variable_name (ResultLine* self, const gchar* value);
void result_view_remove_line (ResultView* self, gint line, gint count);
void result_view_clear (ResultView* self);
const gchar* result_line_get_value (ResultLine* self);
static void result_view_finalize (GObject* obj);
static void _vala_result_view_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_result_view_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static PangoFontDescription* _vala_PangoFontDescription_copy (PangoFontDescription* self) {
	return g_boxed_copy (pango_font_description_get_type (), self);
}


static gpointer __vala_PangoFontDescription_copy0 (gpointer self) {
	return self ? _vala_PangoFontDescription_copy (self) : NULL;
}


static gboolean __lambda22_ (ResultView* self, GdkEventButton* evt) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GtkTextIter start = {0};
	GtkTextIter end = {0};
	GtkTextIter iter = {0};
	gint x = 0;
	gint y = 0;
	GtkTextView* _tmp1_ = NULL;
	GtkTextBuffer* _tmp2_ = NULL;
	GtkTextBuffer* _tmp3_ = NULL;
	GtkTextIter _tmp4_ = {0};
	GtkTextIter _tmp5_ = {0};
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
	GtkTextView* _tmp8_ = NULL;
	GdkEventButton* _tmp9_ = NULL;
	gdouble _tmp10_ = 0.0;
	GdkEventButton* _tmp11_ = NULL;
	gdouble _tmp12_ = 0.0;
	gint _tmp13_ = 0;
	gint _tmp14_ = 0;
	GtkTextView* _tmp15_ = NULL;
	gint _tmp16_ = 0;
	gint _tmp17_ = 0;
	GtkTextIter _tmp18_ = {0};
	gint line_number = 0;
	gint _tmp19_ = 0;
	GeeArrayList* _tmp20_ = NULL;
	gint _tmp21_ = 0;
	gpointer _tmp22_ = NULL;
	ResultLine* _tmp23_ = NULL;
	GtkTextView* _tmp24_ = NULL;
	GdkWindow* _tmp25_ = NULL;
	GdkCursor* _tmp26_ = NULL;
	g_return_val_if_fail (evt != NULL, FALSE);
	_tmp0_ = self->priv->hovering_over_result;
	if (!_tmp0_) {
		result = FALSE;
		return result;
	}
	_tmp1_ = self->priv->text_view;
	_tmp2_ = gtk_text_view_get_buffer (_tmp1_);
	_tmp3_ = _tmp2_;
	gtk_text_buffer_get_selection_bounds (_tmp3_, &_tmp4_, &_tmp5_);
	start = _tmp4_;
	end = _tmp5_;
	_tmp6_ = gtk_text_iter_get_offset (&start);
	_tmp7_ = gtk_text_iter_get_offset (&end);
	if (_tmp6_ != _tmp7_) {
		result = FALSE;
		return result;
	}
	_tmp8_ = self->priv->text_view;
	_tmp9_ = evt;
	_tmp10_ = _tmp9_->x;
	_tmp11_ = evt;
	_tmp12_ = _tmp11_->y;
	gtk_text_view_window_to_buffer_coords (_tmp8_, GTK_TEXT_WINDOW_TEXT, (gint) _tmp10_, (gint) _tmp12_, &_tmp13_, &_tmp14_);
	x = _tmp13_;
	y = _tmp14_;
	_tmp15_ = self->priv->text_view;
	_tmp16_ = x;
	_tmp17_ = y;
	gtk_text_view_get_iter_at_location (_tmp15_, &_tmp18_, _tmp16_, _tmp17_);
	iter = _tmp18_;
	_tmp19_ = gtk_text_iter_get_line (&iter);
	line_number = _tmp19_;
	_tmp20_ = self->priv->_result_list;
	_tmp21_ = line_number;
	_tmp22_ = gee_abstract_list_get ((GeeAbstractList*) _tmp20_, _tmp21_);
	_tmp23_ = (ResultLine*) _tmp22_;
	g_signal_emit_by_name (self, "insert-variable", _tmp23_);
	_g_object_unref0 (_tmp23_);
	_tmp24_ = self->priv->text_view;
	_tmp25_ = gtk_text_view_get_window (_tmp24_, GTK_TEXT_WINDOW_TEXT);
	_tmp26_ = self->priv->left_ptr;
	gdk_window_set_cursor (_tmp25_, _tmp26_);
	result = FALSE;
	return result;
}


static gboolean ___lambda22__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda22_ ((ResultView*) self, event);
	return result;
}


static gboolean __lambda23_ (ResultView* self, GdkEventMotion* evt) {
	gboolean result = FALSE;
	GtkTextIter iter = {0};
	gint x = 0;
	gint y = 0;
	GtkTextView* _tmp0_ = NULL;
	GdkEventMotion* _tmp1_ = NULL;
	gdouble _tmp2_ = 0.0;
	GdkEventMotion* _tmp3_ = NULL;
	gdouble _tmp4_ = 0.0;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	GtkTextView* _tmp7_ = NULL;
	gint _tmp8_ = 0;
	gint _tmp9_ = 0;
	GtkTextIter _tmp10_ = {0};
	gboolean hovering = FALSE;
	GSList* _tmp11_ = NULL;
	gboolean _tmp12_ = FALSE;
	gboolean _tmp13_ = FALSE;
	g_return_val_if_fail (evt != NULL, FALSE);
	_tmp0_ = self->priv->text_view;
	_tmp1_ = evt;
	_tmp2_ = _tmp1_->x;
	_tmp3_ = evt;
	_tmp4_ = _tmp3_->y;
	gtk_text_view_window_to_buffer_coords (_tmp0_, GTK_TEXT_WINDOW_TEXT, (gint) _tmp2_, (gint) _tmp4_, &_tmp5_, &_tmp6_);
	x = _tmp5_;
	y = _tmp6_;
	_tmp7_ = self->priv->text_view;
	_tmp8_ = x;
	_tmp9_ = y;
	gtk_text_view_get_iter_at_location (_tmp7_, &_tmp10_, _tmp8_, _tmp9_);
	iter = _tmp10_;
	hovering = FALSE;
	_tmp11_ = gtk_text_iter_get_tags (&iter);
	{
		GSList* tag_collection = NULL;
		GSList* tag_it = NULL;
		tag_collection = _tmp11_;
		for (tag_it = tag_collection; tag_it != NULL; tag_it = tag_it->next) {
			GtkTextTag* tag = NULL;
			tag = (GtkTextTag*) tag_it->data;
			{
				hovering = TRUE;
			}
		}
		_g_slist_free0 (tag_collection);
	}
	_tmp12_ = hovering;
	_tmp13_ = self->priv->hovering_over_result;
	if (_tmp12_ != _tmp13_) {
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_ = FALSE;
		_tmp14_ = hovering;
		self->priv->hovering_over_result = _tmp14_;
		_tmp15_ = self->priv->hovering_over_result;
		if (_tmp15_) {
			GtkTextView* _tmp16_ = NULL;
			GdkWindow* _tmp17_ = NULL;
			GdkCursor* _tmp18_ = NULL;
			_tmp16_ = self->priv->text_view;
			_tmp17_ = gtk_text_view_get_window (_tmp16_, GTK_TEXT_WINDOW_TEXT);
			_tmp18_ = self->priv->hand;
			gdk_window_set_cursor (_tmp17_, _tmp18_);
		} else {
			GtkTextView* _tmp19_ = NULL;
			GdkWindow* _tmp20_ = NULL;
			GdkCursor* _tmp21_ = NULL;
			_tmp19_ = self->priv->text_view;
			_tmp20_ = gtk_text_view_get_window (_tmp19_, GTK_TEXT_WINDOW_TEXT);
			_tmp21_ = self->priv->left_ptr;
			gdk_window_set_cursor (_tmp20_, _tmp21_);
		}
	}
	result = FALSE;
	return result;
}


static gboolean ___lambda23__gtk_widget_motion_notify_event (GtkWidget* _sender, GdkEventMotion* event, gpointer self) {
	gboolean result;
	result = __lambda23_ ((ResultView*) self, event);
	return result;
}


static void _vala_PangoFontDescription_free (PangoFontDescription* self) {
	g_boxed_free (pango_font_description_get_type (), self);
}


ResultView* result_view_construct (GType object_type) {
	ResultView * self = NULL;
	GeeArrayList* _tmp0_ = NULL;
	GeeArrayList* _tmp1_ = NULL;
	GtkSpinner* _tmp2_ = NULL;
	GtkSpinner* _tmp3_ = NULL;
	GtkAlignment* _tmp4_ = NULL;
	GtkBin* _tmp5_ = NULL;
	GtkSpinner* _tmp6_ = NULL;
	GtkBin* _tmp7_ = NULL;
	GtkBin* _tmp8_ = NULL;
	GtkSpinner* _tmp9_ = NULL;
	GtkTextView* _tmp10_ = NULL;
	GtkTextView* _tmp11_ = NULL;
	GtkTextView* _tmp12_ = NULL;
	GtkTextView* _tmp13_ = NULL;
	GtkTextView* _tmp14_ = NULL;
	GtkTextView* _tmp15_ = NULL;
	GtkTextView* _tmp16_ = NULL;
	GtkTextView* _tmp17_ = NULL;
	GtkTextBuffer* _tmp18_ = NULL;
	GtkTextBuffer* _tmp19_ = NULL;
	GtkTextTag* _tmp20_ = NULL;
	GtkTextTag* _tmp21_ = NULL;
	GtkTextTag* _tmp22_ = NULL;
	PangoFontDescription* font_desc = NULL;
	GtkTextView* _tmp23_ = NULL;
	GtkStyleContext* _tmp24_ = NULL;
	PangoFontDescription* _tmp25_ = NULL;
	PangoFontDescription* _tmp26_ = NULL;
	GtkTextView* _tmp27_ = NULL;
	GdkRGBA color = {0};
	GtkTextView* _tmp28_ = NULL;
	GdkRGBA _tmp29_ = {0};
	GtkTextView* _tmp30_ = NULL;
	GtkTextView* _tmp31_ = NULL;
	GtkTextView* _tmp32_ = NULL;
	GtkTextView* _tmp33_ = NULL;
	GtkAlignment* alignment = NULL;
	GtkAlignment* _tmp34_ = NULL;
	GtkTextView* _tmp35_ = NULL;
	GdkRGBA _tmp36_ = {0};
	GtkBin* _tmp37_ = NULL;
	self = (ResultView*) g_object_new (object_type, NULL);
	_tmp0_ = gee_array_list_new (TYPE_RESULT_LINE, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
	_tmp1_ = _tmp0_;
	result_view_set_result_list (self, _tmp1_);
	_g_object_unref0 (_tmp1_);
	_tmp2_ = (GtkSpinner*) gtk_spinner_new ();
	g_object_ref_sink (_tmp2_);
	_g_object_unref0 (self->priv->spinner);
	self->priv->spinner = _tmp2_;
	_tmp3_ = self->priv->spinner;
	gtk_spinner_start (_tmp3_);
	_tmp4_ = (GtkAlignment*) gtk_alignment_new (0.9f, (gfloat) 0, (gfloat) 0, (gfloat) 0);
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->priv->spinner_box);
	self->priv->spinner_box = (GtkBin*) _tmp4_;
	_tmp5_ = self->priv->spinner_box;
	_tmp6_ = self->priv->spinner;
	gtk_container_add ((GtkContainer*) _tmp5_, (GtkWidget*) _tmp6_);
	_tmp7_ = self->priv->spinner_box;
	gtk_widget_set_no_show_all ((GtkWidget*) _tmp7_, TRUE);
	_tmp8_ = self->priv->spinner_box;
	gtk_widget_set_size_request ((GtkWidget*) _tmp8_, 20, -1);
	_tmp9_ = self->priv->spinner;
	gtk_widget_set_size_request ((GtkWidget*) _tmp9_, 20, 20);
	_tmp10_ = (GtkTextView*) gtk_text_view_new ();
	g_object_ref_sink (_tmp10_);
	_g_object_unref0 (self->priv->text_view);
	self->priv->text_view = _tmp10_;
	_tmp11_ = self->priv->text_view;
	gtk_widget_set_size_request ((GtkWidget*) _tmp11_, RESULT_VIEW_START_WIDTH, -1);
	_tmp12_ = self->priv->text_view;
	gtk_text_view_set_editable (_tmp12_, FALSE);
	_tmp13_ = self->priv->text_view;
	gtk_text_view_set_cursor_visible (_tmp13_, FALSE);
	_tmp14_ = self->priv->text_view;
	gtk_text_view_set_left_margin (_tmp14_, NASC_left_margin);
	_tmp15_ = self->priv->text_view;
	gtk_text_view_set_pixels_below_lines (_tmp15_, NASC_vertical_padding);
	_tmp16_ = self->priv->text_view;
	gtk_widget_set_can_focus ((GtkWidget*) _tmp16_, FALSE);
	_tmp17_ = self->priv->text_view;
	_tmp18_ = gtk_text_view_get_buffer (_tmp17_);
	_tmp19_ = _tmp18_;
	_tmp20_ = gtk_text_buffer_create_tag (_tmp19_, "bold", NULL);
	_tmp21_ = _g_object_ref0 (_tmp20_);
	_g_object_unref0 (self->priv->bold_tag);
	self->priv->bold_tag = _tmp21_;
	_tmp22_ = self->priv->bold_tag;
	g_object_set (_tmp22_, "weight", (gint) PANGO_WEIGHT_BOLD, NULL);
	_tmp23_ = self->priv->text_view;
	_tmp24_ = gtk_widget_get_style_context ((GtkWidget*) _tmp23_);
	_tmp25_ = gtk_style_context_get_font (_tmp24_, GTK_STATE_FLAG_NORMAL);
	_tmp26_ = __vala_PangoFontDescription_copy0 (_tmp25_);
	font_desc = _tmp26_;
	pango_font_description_set_size (font_desc, 12 * PANGO_SCALE);
	_tmp27_ = self->priv->text_view;
	gtk_widget_override_font ((GtkWidget*) _tmp27_, font_desc);
	memset (&color, 0, sizeof (GdkRGBA));
	color.red = (gdouble) 230;
	color.green = (gdouble) 230;
	color.blue = (gdouble) 230;
	color.alpha = (gdouble) 0;
	_tmp28_ = self->priv->text_view;
	_tmp29_ = color;
	gtk_widget_override_background_color ((GtkWidget*) _tmp28_, GTK_STATE_FLAG_NORMAL, &_tmp29_);
	_tmp30_ = self->priv->text_view;
	gtk_widget_set_events ((GtkWidget*) _tmp30_, (gint) GDK_BUTTON_PRESS_MASK);
	_tmp31_ = self->priv->text_view;
	g_signal_connect_object ((GtkWidget*) _tmp31_, "button-press-event", (GCallback) ___lambda22__gtk_widget_button_press_event, self, 0);
	_tmp32_ = self->priv->text_view;
	gtk_widget_set_events ((GtkWidget*) _tmp32_, (gint) GDK_POINTER_MOTION_MASK);
	_tmp33_ = self->priv->text_view;
	g_signal_connect_object ((GtkWidget*) _tmp33_, "motion-notify-event", (GCallback) ___lambda23__gtk_widget_motion_notify_event, self, 0);
	_tmp34_ = (GtkAlignment*) gtk_alignment_new ((gfloat) 0, (gfloat) 0, (gfloat) 1, (gfloat) 1);
	g_object_ref_sink (_tmp34_);
	alignment = _tmp34_;
	g_object_set (alignment, "top-padding", (guint) NASC_top_padding, NULL);
	_tmp35_ = self->priv->text_view;
	gtk_container_add ((GtkContainer*) alignment, (GtkWidget*) _tmp35_);
	_tmp36_ = color;
	gtk_widget_override_background_color ((GtkWidget*) self, GTK_STATE_FLAG_NORMAL, &_tmp36_);
	gtk_box_pack_start ((GtkBox*) self, (GtkWidget*) alignment, TRUE, TRUE, (guint) 0);
	_tmp37_ = self->priv->spinner_box;
	gtk_box_pack_start ((GtkBox*) self, (GtkWidget*) _tmp37_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (alignment);
	__vala_PangoFontDescription_free0 (font_desc);
	return self;
}


ResultView* result_view_new (void) {
	return result_view_construct (TYPE_RESULT_VIEW);
}


void result_view_set_width (ResultView* self, gint width) {
	gint _tmp0_ = 0;
	gint _tmp14_ = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = width;
	self->priv->actual_width = _tmp0_ - 5;
	{
		GeeArrayList* _rl_list = NULL;
		GeeArrayList* _tmp1_ = NULL;
		GeeArrayList* _tmp2_ = NULL;
		gint _rl_size = 0;
		GeeArrayList* _tmp3_ = NULL;
		gint _tmp4_ = 0;
		gint _tmp5_ = 0;
		gint _rl_index = 0;
		_tmp1_ = self->priv->_result_list;
		_tmp2_ = _g_object_ref0 (_tmp1_);
		_rl_list = _tmp2_;
		_tmp3_ = _rl_list;
		_tmp4_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp3_);
		_tmp5_ = _tmp4_;
		_rl_size = _tmp5_;
		_rl_index = -1;
		while (TRUE) {
			gint _tmp6_ = 0;
			gint _tmp7_ = 0;
			gint _tmp8_ = 0;
			ResultLine* rl = NULL;
			GeeArrayList* _tmp9_ = NULL;
			gint _tmp10_ = 0;
			gpointer _tmp11_ = NULL;
			ResultLine* _tmp12_ = NULL;
			gint _tmp13_ = 0;
			_tmp6_ = _rl_index;
			_rl_index = _tmp6_ + 1;
			_tmp7_ = _rl_index;
			_tmp8_ = _rl_size;
			if (!(_tmp7_ < _tmp8_)) {
				break;
			}
			_tmp9_ = _rl_list;
			_tmp10_ = _rl_index;
			_tmp11_ = gee_abstract_list_get ((GeeAbstractList*) _tmp9_, _tmp10_);
			rl = (ResultLine*) _tmp11_;
			_tmp12_ = rl;
			_tmp13_ = self->priv->actual_width;
			result_line_refresh_width (_tmp12_, _tmp13_);
			_g_object_unref0 (rl);
		}
		_g_object_unref0 (_rl_list);
	}
	_tmp14_ = self->priv->actual_line;
	result_view_update (self, _tmp14_, TRUE);
}


static gboolean result_view_real_draw (GtkWidget* base, cairo_t* cr) {
	ResultView * self;
	gboolean result = FALSE;
	gboolean res = FALSE;
	cairo_t* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	GtkTextView* _tmp2_ = NULL;
	GdkWindow* _tmp3_ = NULL;
	GdkCursor* _tmp4_ = NULL;
	self = (ResultView*) base;
	g_return_val_if_fail (cr != NULL, FALSE);
	_tmp0_ = cr;
	_tmp1_ = GTK_WIDGET_CLASS (result_view_parent_class)->draw ((GtkWidget*) G_TYPE_CHECK_INSTANCE_CAST (self, gtk_box_get_type (), GtkBox), _tmp0_);
	res = _tmp1_;
	_tmp2_ = self->priv->text_view;
	_tmp3_ = gtk_text_view_get_window (_tmp2_, GTK_TEXT_WINDOW_TEXT);
	_tmp4_ = self->priv->left_ptr;
	gdk_window_set_cursor (_tmp3_, _tmp4_);
	result = res;
	return result;
}


void result_view_show_spinner (ResultView* self, gint line) {
	GtkBin* _tmp0_ = NULL;
	GtkSpinner* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	GtkBin* _tmp3_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->spinner_box;
	gtk_widget_set_no_show_all ((GtkWidget*) _tmp0_, FALSE);
	_tmp1_ = self->priv->spinner;
	_tmp2_ = line;
	gtk_widget_set_margin_top ((GtkWidget*) _tmp1_, NASC_top_padding + (_tmp2_ * 27));
	_tmp3_ = self->priv->spinner_box;
	gtk_widget_show_all ((GtkWidget*) _tmp3_);
}


void result_view_hide_spinner (ResultView* self) {
	GtkBin* _tmp0_ = NULL;
	GtkBin* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->spinner_box;
	gtk_widget_hide ((GtkWidget*) _tmp0_);
	_tmp1_ = self->priv->spinner_box;
	gtk_widget_set_no_show_all ((GtkWidget*) _tmp1_, TRUE);
}


void result_view_set_line (ResultView* self, gint index, const gchar* _result_) {
	gchar* line_res = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	GeeArrayList* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (_result_ != NULL);
	_tmp0_ = _result_;
	_tmp1_ = g_strdup (_tmp0_);
	line_res = _tmp1_;
	_tmp2_ = index;
	_tmp3_ = self->priv->_result_list;
	_tmp4_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp3_);
	_tmp5_ = _tmp4_;
	if (_tmp2_ < _tmp5_) {
		ResultLine* res = NULL;
		GeeArrayList* _tmp6_ = NULL;
		gint _tmp7_ = 0;
		gpointer _tmp8_ = NULL;
		gboolean update = FALSE;
		ResultLine* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		gboolean _tmp11_ = FALSE;
		gboolean _tmp12_ = FALSE;
		_tmp6_ = self->priv->_result_list;
		_tmp7_ = index;
		_tmp8_ = gee_abstract_list_get ((GeeAbstractList*) _tmp6_, _tmp7_);
		res = (ResultLine*) _tmp8_;
		_tmp9_ = res;
		_tmp10_ = line_res;
		_tmp11_ = result_line_set_value_with_notification (_tmp9_, _tmp10_);
		update = _tmp11_;
		_tmp12_ = update;
		if (_tmp12_) {
			self->priv->update_needed = TRUE;
		}
		_g_object_unref0 (res);
	}
	_g_free0 (line_res);
}


void result_view_add_line (ResultView* self, gint line, gint count) {
	g_return_if_fail (self != NULL);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_ = 0;
				gint _tmp3_ = 0;
				gint _tmp4_ = 0;
				gint _tmp5_ = 0;
				GeeArrayList* _tmp6_ = NULL;
				gint _tmp7_ = 0;
				gint _tmp8_ = 0;
				if (!_tmp0_) {
					gint _tmp1_ = 0;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = i;
				_tmp3_ = count;
				if (!(_tmp2_ < _tmp3_)) {
					break;
				}
				_tmp4_ = i;
				_tmp5_ = line;
				_tmp6_ = self->priv->_result_list;
				_tmp7_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp6_);
				_tmp8_ = _tmp7_;
				if ((_tmp4_ + _tmp5_) > _tmp8_) {
					gchar* variable_name = NULL;
					GeeArrayList* _tmp9_ = NULL;
					gint _tmp10_ = 0;
					gint _tmp11_ = 0;
					gchar* _tmp12_ = NULL;
					gchar* _tmp13_ = NULL;
					gchar* _tmp14_ = NULL;
					gchar* _tmp15_ = NULL;
					GeeArrayList* _tmp16_ = NULL;
					GeeArrayList* _tmp17_ = NULL;
					gint _tmp18_ = 0;
					gint _tmp19_ = 0;
					const gchar* _tmp20_ = NULL;
					gint _tmp21_ = 0;
					ResultLine* _tmp22_ = NULL;
					ResultLine* _tmp23_ = NULL;
					_tmp9_ = self->priv->_result_list;
					_tmp10_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp9_);
					_tmp11_ = _tmp10_;
					_tmp12_ = g_strdup_printf ("%d", _tmp11_);
					_tmp13_ = _tmp12_;
					_tmp14_ = g_strconcat (NASC_SETTINGS_variable_names, _tmp13_, NULL);
					_tmp15_ = _tmp14_;
					_g_free0 (_tmp13_);
					variable_name = _tmp15_;
					_tmp16_ = self->priv->_result_list;
					_tmp17_ = self->priv->_result_list;
					_tmp18_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp17_);
					_tmp19_ = _tmp18_;
					_tmp20_ = variable_name;
					_tmp21_ = self->priv->actual_width;
					_tmp22_ = result_line_new (_tmp19_, _tmp20_, "", _tmp21_);
					_tmp23_ = _tmp22_;
					gee_abstract_collection_add ((GeeAbstractCollection*) _tmp16_, _tmp23_);
					_g_object_unref0 (_tmp23_);
					_g_free0 (variable_name);
				} else {
					gchar* variable_name = NULL;
					gint _tmp24_ = 0;
					gint _tmp25_ = 0;
					gchar* _tmp26_ = NULL;
					gchar* _tmp27_ = NULL;
					gchar* _tmp28_ = NULL;
					gchar* _tmp29_ = NULL;
					GeeArrayList* _tmp30_ = NULL;
					gint _tmp31_ = 0;
					gint _tmp32_ = 0;
					gint _tmp33_ = 0;
					gint _tmp34_ = 0;
					const gchar* _tmp35_ = NULL;
					gint _tmp36_ = 0;
					ResultLine* _tmp37_ = NULL;
					ResultLine* _tmp38_ = NULL;
					_tmp24_ = i;
					_tmp25_ = line;
					_tmp26_ = g_strdup_printf ("%d", _tmp24_ + _tmp25_);
					_tmp27_ = _tmp26_;
					_tmp28_ = g_strconcat (NASC_SETTINGS_variable_names, _tmp27_, NULL);
					_tmp29_ = _tmp28_;
					_g_free0 (_tmp27_);
					variable_name = _tmp29_;
					_tmp30_ = self->priv->_result_list;
					_tmp31_ = i;
					_tmp32_ = line;
					_tmp33_ = i;
					_tmp34_ = line;
					_tmp35_ = variable_name;
					_tmp36_ = self->priv->actual_width;
					_tmp37_ = result_line_new (_tmp33_ + _tmp34_, _tmp35_, "", _tmp36_);
					_tmp38_ = _tmp37_;
					gee_abstract_list_insert ((GeeAbstractList*) _tmp30_, _tmp31_ + _tmp32_, _tmp38_);
					_g_object_unref0 (_tmp38_);
					_g_free0 (variable_name);
				}
			}
		}
	}
	{
		gint i = 0;
		GeeArrayList* _tmp39_ = NULL;
		gint _tmp40_ = 0;
		gint _tmp41_ = 0;
		_tmp39_ = self->priv->_result_list;
		_tmp40_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp39_);
		_tmp41_ = _tmp40_;
		i = _tmp41_ - 1;
		{
			gboolean _tmp42_ = FALSE;
			_tmp42_ = TRUE;
			while (TRUE) {
				gint _tmp44_ = 0;
				gint _tmp45_ = 0;
				gint _tmp46_ = 0;
				ResultLine* tmp = NULL;
				GeeArrayList* _tmp47_ = NULL;
				gint _tmp48_ = 0;
				gpointer _tmp49_ = NULL;
				ResultLine* _tmp50_ = NULL;
				gint _tmp51_ = 0;
				ResultLine* _tmp52_ = NULL;
				gint _tmp53_ = 0;
				gchar* _tmp54_ = NULL;
				gchar* _tmp55_ = NULL;
				gchar* _tmp56_ = NULL;
				gchar* _tmp57_ = NULL;
				if (!_tmp42_) {
					gint _tmp43_ = 0;
					_tmp43_ = i;
					i = _tmp43_ - 1;
				}
				_tmp42_ = FALSE;
				_tmp44_ = i;
				_tmp45_ = line;
				_tmp46_ = count;
				if (!(_tmp44_ >= (_tmp45_ + _tmp46_))) {
					break;
				}
				_tmp47_ = self->priv->_result_list;
				_tmp48_ = i;
				_tmp49_ = gee_abstract_list_get ((GeeAbstractList*) _tmp47_, _tmp48_);
				tmp = (ResultLine*) _tmp49_;
				_tmp50_ = tmp;
				_tmp51_ = i;
				result_line_set_line (_tmp50_, _tmp51_);
				_tmp52_ = tmp;
				_tmp53_ = i;
				_tmp54_ = g_strdup_printf ("%d", _tmp53_);
				_tmp55_ = _tmp54_;
				_tmp56_ = g_strconcat (NASC_SETTINGS_variable_names, _tmp55_, NULL);
				_tmp57_ = _tmp56_;
				result_line_set_variable_name (_tmp52_, _tmp57_);
				_g_free0 (_tmp57_);
				_g_free0 (_tmp55_);
				_g_object_unref0 (tmp);
			}
		}
	}
}


void result_view_remove_line (ResultView* self, gint line, gint count) {
	gboolean _tmp0_ = FALSE;
	gint _tmp1_ = 0;
	g_return_if_fail (self != NULL);
	_tmp1_ = line;
	if (_tmp1_ <= 0) {
		gint _tmp2_ = 0;
		GeeArrayList* _tmp3_ = NULL;
		gint _tmp4_ = 0;
		gint _tmp5_ = 0;
		_tmp2_ = count;
		_tmp3_ = self->priv->_result_list;
		_tmp4_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp3_);
		_tmp5_ = _tmp4_;
		_tmp0_ = _tmp2_ == _tmp5_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GeeArrayList* _tmp6_ = NULL;
		_tmp6_ = self->priv->_result_list;
		gee_abstract_collection_clear ((GeeAbstractCollection*) _tmp6_);
		return;
	}
	{
		gint i = 0;
		gint _tmp7_ = 0;
		gint _tmp8_ = 0;
		_tmp7_ = line;
		_tmp8_ = count;
		i = _tmp7_ + _tmp8_;
		{
			gboolean _tmp9_ = FALSE;
			_tmp9_ = TRUE;
			while (TRUE) {
				gint _tmp11_ = 0;
				gint _tmp12_ = 0;
				GeeArrayList* _tmp13_ = NULL;
				gint _tmp14_ = 0;
				gint _tmp15_ = 0;
				gint _tmp16_ = 0;
				if (!_tmp9_) {
					gint _tmp10_ = 0;
					_tmp10_ = i;
					i = _tmp10_ - 1;
				}
				_tmp9_ = FALSE;
				_tmp11_ = i;
				_tmp12_ = line;
				if (!(_tmp11_ > _tmp12_)) {
					break;
				}
				_tmp13_ = self->priv->_result_list;
				_tmp14_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp13_);
				_tmp15_ = _tmp14_;
				_tmp16_ = i;
				if (_tmp15_ > _tmp16_) {
					GeeArrayList* _tmp17_ = NULL;
					gint _tmp18_ = 0;
					gpointer _tmp19_ = NULL;
					ResultLine* _tmp20_ = NULL;
					_tmp17_ = self->priv->_result_list;
					_tmp18_ = i;
					_tmp19_ = gee_abstract_list_remove_at ((GeeAbstractList*) _tmp17_, _tmp18_);
					_tmp20_ = (ResultLine*) _tmp19_;
					_g_object_unref0 (_tmp20_);
					self->priv->update_needed = TRUE;
				}
			}
		}
	}
	{
		gint i = 0;
		GeeArrayList* _tmp21_ = NULL;
		gint _tmp22_ = 0;
		gint _tmp23_ = 0;
		_tmp21_ = self->priv->_result_list;
		_tmp22_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp21_);
		_tmp23_ = _tmp22_;
		i = _tmp23_ - 1;
		{
			gboolean _tmp24_ = FALSE;
			_tmp24_ = TRUE;
			while (TRUE) {
				gint _tmp26_ = 0;
				gint _tmp27_ = 0;
				gint _tmp28_ = 0;
				ResultLine* tmp = NULL;
				GeeArrayList* _tmp29_ = NULL;
				gint _tmp30_ = 0;
				gpointer _tmp31_ = NULL;
				ResultLine* _tmp32_ = NULL;
				gint _tmp33_ = 0;
				ResultLine* _tmp34_ = NULL;
				gint _tmp35_ = 0;
				gchar* _tmp36_ = NULL;
				gchar* _tmp37_ = NULL;
				gchar* _tmp38_ = NULL;
				gchar* _tmp39_ = NULL;
				if (!_tmp24_) {
					gint _tmp25_ = 0;
					_tmp25_ = i;
					i = _tmp25_ - 1;
				}
				_tmp24_ = FALSE;
				_tmp26_ = i;
				_tmp27_ = line;
				if (!(_tmp26_ >= _tmp27_)) {
					break;
				}
				_tmp28_ = i;
				if (_tmp28_ == -1) {
					break;
				}
				_tmp29_ = self->priv->_result_list;
				_tmp30_ = i;
				_tmp31_ = gee_abstract_list_get ((GeeAbstractList*) _tmp29_, _tmp30_);
				tmp = (ResultLine*) _tmp31_;
				_tmp32_ = tmp;
				_tmp33_ = i;
				result_line_set_line (_tmp32_, _tmp33_);
				_tmp34_ = tmp;
				_tmp35_ = i;
				_tmp36_ = g_strdup_printf ("%d", _tmp35_);
				_tmp37_ = _tmp36_;
				_tmp38_ = g_strconcat (NASC_SETTINGS_variable_names, _tmp37_, NULL);
				_tmp39_ = _tmp38_;
				result_line_set_variable_name (_tmp34_, _tmp39_);
				_g_free0 (_tmp39_);
				_g_free0 (_tmp37_);
				_g_object_unref0 (tmp);
			}
		}
	}
}


void result_view_clear (ResultView* self) {
	GeeArrayList* _tmp0_ = NULL;
	GtkTextView* _tmp1_ = NULL;
	GtkTextBuffer* _tmp2_ = NULL;
	GtkTextBuffer* _tmp3_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_result_list;
	gee_abstract_collection_clear ((GeeAbstractCollection*) _tmp0_);
	_tmp1_ = self->priv->text_view;
	_tmp2_ = gtk_text_view_get_buffer (_tmp1_);
	_tmp3_ = _tmp2_;
	g_object_set (_tmp3_, "text", "", NULL);
}


void result_view_update (ResultView* self, gint line, gboolean force) {
	gint _tmp0_ = 0;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	GtkTextIter iter = {0};
	GtkTextView* _tmp8_ = NULL;
	GtkTextBuffer* _tmp9_ = NULL;
	GtkTextBuffer* _tmp10_ = NULL;
	GtkTextView* _tmp11_ = NULL;
	GtkTextBuffer* _tmp12_ = NULL;
	GtkTextBuffer* _tmp13_ = NULL;
	GtkTextIter _tmp14_ = {0};
	g_return_if_fail (self != NULL);
	_tmp0_ = line;
	self->priv->actual_line = _tmp0_;
	_tmp3_ = self->priv->update_needed;
	if (!_tmp3_) {
		gboolean _tmp4_ = FALSE;
		_tmp4_ = force;
		_tmp2_ = !_tmp4_;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		GeeArrayList* _tmp5_ = NULL;
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
		_tmp5_ = self->priv->_result_list;
		_tmp6_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp5_);
		_tmp7_ = _tmp6_;
		_tmp1_ = _tmp7_ != 0;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		return;
	}
	_tmp8_ = self->priv->text_view;
	_tmp9_ = gtk_text_view_get_buffer (_tmp8_);
	_tmp10_ = _tmp9_;
	g_object_set (_tmp10_, "text", "", NULL);
	_tmp11_ = self->priv->text_view;
	_tmp12_ = gtk_text_view_get_buffer (_tmp11_);
	_tmp13_ = _tmp12_;
	gtk_text_buffer_get_iter_at_offset (_tmp13_, &_tmp14_, 0);
	iter = _tmp14_;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp15_ = FALSE;
			_tmp15_ = TRUE;
			while (TRUE) {
				gint _tmp17_ = 0;
				GeeArrayList* _tmp18_ = NULL;
				gint _tmp19_ = 0;
				gint _tmp20_ = 0;
				ResultLine* res = NULL;
				GeeArrayList* _tmp21_ = NULL;
				gint _tmp22_ = 0;
				gpointer _tmp23_ = NULL;
				GtkTextTag* tag = NULL;
				GtkTextView* _tmp24_ = NULL;
				GtkTextBuffer* _tmp25_ = NULL;
				GtkTextBuffer* _tmp26_ = NULL;
				GtkTextTagTable* _tmp27_ = NULL;
				GtkTextTagTable* _tmp28_ = NULL;
				gint _tmp29_ = 0;
				gchar* _tmp30_ = NULL;
				gchar* _tmp31_ = NULL;
				gchar* _tmp32_ = NULL;
				gchar* _tmp33_ = NULL;
				GtkTextTag* _tmp34_ = NULL;
				GtkTextTag* _tmp35_ = NULL;
				GtkTextTag* _tmp36_ = NULL;
				GtkTextTag* _tmp37_ = NULL;
				gint _tmp48_ = 0;
				gint _tmp49_ = 0;
				gint _tmp65_ = 0;
				GeeArrayList* _tmp66_ = NULL;
				gint _tmp67_ = 0;
				gint _tmp68_ = 0;
				if (!_tmp15_) {
					gint _tmp16_ = 0;
					_tmp16_ = i;
					i = _tmp16_ + 1;
				}
				_tmp15_ = FALSE;
				_tmp17_ = i;
				_tmp18_ = self->priv->_result_list;
				_tmp19_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp18_);
				_tmp20_ = _tmp19_;
				if (!(_tmp17_ < _tmp20_)) {
					break;
				}
				_tmp21_ = self->priv->_result_list;
				_tmp22_ = i;
				_tmp23_ = gee_abstract_list_get ((GeeAbstractList*) _tmp21_, _tmp22_);
				res = (ResultLine*) _tmp23_;
				_tmp24_ = self->priv->text_view;
				_tmp25_ = gtk_text_view_get_buffer (_tmp24_);
				_tmp26_ = _tmp25_;
				_tmp27_ = gtk_text_buffer_get_tag_table (_tmp26_);
				_tmp28_ = _tmp27_;
				_tmp29_ = i;
				_tmp30_ = g_strdup_printf ("%d", _tmp29_);
				_tmp31_ = _tmp30_;
				_tmp32_ = g_strconcat (NASC_SETTINGS_variable_names, _tmp31_, NULL);
				_tmp33_ = _tmp32_;
				_tmp34_ = gtk_text_tag_table_lookup (_tmp28_, _tmp33_);
				_tmp35_ = _g_object_ref0 (_tmp34_);
				_tmp36_ = _tmp35_;
				_g_free0 (_tmp33_);
				_g_free0 (_tmp31_);
				tag = _tmp36_;
				_tmp37_ = tag;
				if (_tmp37_ == NULL) {
					GtkTextView* _tmp38_ = NULL;
					GtkTextBuffer* _tmp39_ = NULL;
					GtkTextBuffer* _tmp40_ = NULL;
					gint _tmp41_ = 0;
					gchar* _tmp42_ = NULL;
					gchar* _tmp43_ = NULL;
					gchar* _tmp44_ = NULL;
					gchar* _tmp45_ = NULL;
					GtkTextTag* _tmp46_ = NULL;
					GtkTextTag* _tmp47_ = NULL;
					_tmp38_ = self->priv->text_view;
					_tmp39_ = gtk_text_view_get_buffer (_tmp38_);
					_tmp40_ = _tmp39_;
					_tmp41_ = i;
					_tmp42_ = g_strdup_printf ("%d", _tmp41_);
					_tmp43_ = _tmp42_;
					_tmp44_ = g_strconcat (NASC_SETTINGS_variable_names, _tmp43_, NULL);
					_tmp45_ = _tmp44_;
					_tmp46_ = gtk_text_buffer_create_tag (_tmp40_, _tmp45_, NULL, NULL);
					_tmp47_ = _g_object_ref0 (_tmp46_);
					_g_object_unref0 (tag);
					tag = _tmp47_;
					_g_free0 (_tmp45_);
					_g_free0 (_tmp43_);
				}
				_tmp48_ = i;
				_tmp49_ = line;
				if (_tmp48_ == _tmp49_) {
					GtkTextView* _tmp50_ = NULL;
					GtkTextBuffer* _tmp51_ = NULL;
					GtkTextBuffer* _tmp52_ = NULL;
					ResultLine* _tmp53_ = NULL;
					const gchar* _tmp54_ = NULL;
					const gchar* _tmp55_ = NULL;
					GtkTextTag* _tmp56_ = NULL;
					GtkTextTag* _tmp57_ = NULL;
					_tmp50_ = self->priv->text_view;
					_tmp51_ = gtk_text_view_get_buffer (_tmp50_);
					_tmp52_ = _tmp51_;
					_tmp53_ = res;
					_tmp54_ = result_line_get_value (_tmp53_);
					_tmp55_ = _tmp54_;
					_tmp56_ = tag;
					_tmp57_ = self->priv->bold_tag;
					gtk_text_buffer_insert_with_tags (_tmp52_, &iter, _tmp55_, -1, _tmp56_, _tmp57_, NULL, NULL);
				} else {
					GtkTextView* _tmp58_ = NULL;
					GtkTextBuffer* _tmp59_ = NULL;
					GtkTextBuffer* _tmp60_ = NULL;
					ResultLine* _tmp61_ = NULL;
					const gchar* _tmp62_ = NULL;
					const gchar* _tmp63_ = NULL;
					GtkTextTag* _tmp64_ = NULL;
					_tmp58_ = self->priv->text_view;
					_tmp59_ = gtk_text_view_get_buffer (_tmp58_);
					_tmp60_ = _tmp59_;
					_tmp61_ = res;
					_tmp62_ = result_line_get_value (_tmp61_);
					_tmp63_ = _tmp62_;
					_tmp64_ = tag;
					gtk_text_buffer_insert_with_tags (_tmp60_, &iter, _tmp63_, -1, _tmp64_, NULL, NULL);
				}
				_tmp65_ = i;
				_tmp66_ = self->priv->_result_list;
				_tmp67_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp66_);
				_tmp68_ = _tmp67_;
				if (_tmp65_ != (_tmp68_ - 1)) {
					GtkTextView* _tmp69_ = NULL;
					GtkTextBuffer* _tmp70_ = NULL;
					GtkTextBuffer* _tmp71_ = NULL;
					GtkTextIter _tmp72_ = {0};
					GtkTextView* _tmp73_ = NULL;
					GtkTextBuffer* _tmp74_ = NULL;
					GtkTextBuffer* _tmp75_ = NULL;
					_tmp69_ = self->priv->text_view;
					_tmp70_ = gtk_text_view_get_buffer (_tmp69_);
					_tmp71_ = _tmp70_;
					gtk_text_buffer_get_end_iter (_tmp71_, &_tmp72_);
					iter = _tmp72_;
					_tmp73_ = self->priv->text_view;
					_tmp74_ = gtk_text_view_get_buffer (_tmp73_);
					_tmp75_ = _tmp74_;
					gtk_text_buffer_insert (_tmp75_, &iter, "\n", 1);
				}
				_g_object_unref0 (tag);
				_g_object_unref0 (res);
			}
		}
	}
	self->priv->update_needed = FALSE;
}


GeeArrayList* result_view_get_result_list (ResultView* self) {
	GeeArrayList* result;
	GeeArrayList* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_result_list;
	result = _tmp0_;
	return result;
}


static void result_view_set_result_list (ResultView* self, GeeArrayList* value) {
	GeeArrayList* _tmp0_ = NULL;
	GeeArrayList* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (self->priv->_result_list);
	self->priv->_result_list = _tmp1_;
	g_object_notify ((GObject *) self, "result-list");
}


static void result_view_class_init (ResultViewClass * klass) {
	result_view_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (ResultViewPrivate));
	((GtkWidgetClass *) klass)->draw = result_view_real_draw;
	G_OBJECT_CLASS (klass)->get_property = _vala_result_view_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_result_view_set_property;
	G_OBJECT_CLASS (klass)->finalize = result_view_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), RESULT_VIEW_RESULT_LIST, g_param_spec_object ("result-list", "result-list", "result-list", GEE_TYPE_ARRAY_LIST, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
	g_signal_new ("insert_variable", TYPE_RESULT_VIEW, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, TYPE_RESULT_LINE);
}


static void result_view_instance_init (ResultView * self) {
	GdkDisplay* _tmp0_ = NULL;
	GdkCursor* _tmp1_ = NULL;
	GdkDisplay* _tmp2_ = NULL;
	GdkCursor* _tmp3_ = NULL;
	self->priv = RESULT_VIEW_GET_PRIVATE (self);
	_tmp0_ = gdk_display_get_default ();
	_tmp1_ = gdk_cursor_new_for_display (_tmp0_, GDK_LEFT_PTR);
	self->priv->left_ptr = _tmp1_;
	_tmp2_ = gdk_display_get_default ();
	_tmp3_ = gdk_cursor_new_for_display (_tmp2_, GDK_HAND2);
	self->priv->hand = _tmp3_;
	self->priv->hovering_over_result = FALSE;
	self->priv->actual_width = RESULT_VIEW_START_WIDTH;
}


static void result_view_finalize (GObject* obj) {
	ResultView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_RESULT_VIEW, ResultView);
	_g_object_unref0 (self->priv->text_view);
	_g_object_unref0 (self->priv->left_ptr);
	_g_object_unref0 (self->priv->hand);
	_g_object_unref0 (self->priv->_result_list);
	_g_object_unref0 (self->priv->bold_tag);
	_g_object_unref0 (self->priv->spinner);
	_g_object_unref0 (self->priv->spinner_box);
	G_OBJECT_CLASS (result_view_parent_class)->finalize (obj);
}


GType result_view_get_type (void) {
	static volatile gsize result_view_type_id__volatile = 0;
	if (g_once_init_enter (&result_view_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ResultViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) result_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ResultView), 0, (GInstanceInitFunc) result_view_instance_init, NULL };
		GType result_view_type_id;
		result_view_type_id = g_type_register_static (gtk_box_get_type (), "ResultView", &g_define_type_info, 0);
		g_once_init_leave (&result_view_type_id__volatile, result_view_type_id);
	}
	return result_view_type_id__volatile;
}


static void _vala_result_view_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	ResultView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_RESULT_VIEW, ResultView);
	switch (property_id) {
		case RESULT_VIEW_RESULT_LIST:
		g_value_set_object (value, result_view_get_result_list (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_result_view_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	ResultView * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_RESULT_VIEW, ResultView);
	switch (property_id) {
		case RESULT_VIEW_RESULT_LIST:
		result_view_set_result_list (self, g_value_get_object (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}



